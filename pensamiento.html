<!DOCTYPE html>
<!--https://hotpadrino.github.io/manuelrarias/pensamiento.html-->
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test de Herrmann - Perfil Cerebral</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-bg: #f8fafc;
      --secondary-bg: #ffffff;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --border-light: #e2e8f0;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --blue-quadrant: #3b82f6;
      --green-quadrant: #10b981;
      --red-quadrant: #ef4444;
      --yellow-quadrant: #f59e0b;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    [data-theme="dark"] {
      --primary-bg: #0f172a;
      --secondary-bg: #1e293b;
      --text-primary: #f1f5f9;
      --text-secondary: #cbd5e1;
      --border-light: #334155;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--primary-bg);
      color: var(--text-primary);
      transition: var(--transition);
      min-height: 100vh;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .header {
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
    }

    .title {
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 800;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 0.5rem;
    }

    .subtitle {
      font-size: 1.125rem;
      color: var(--text-secondary);
      margin-bottom: 2rem;
    }

    .theme-toggle {
      position: absolute;
      top: 0;
      right: 0;
      background: var(--secondary-bg);
      border: 1px solid var(--border-light);
      border-radius: 50px;
      padding: 0.5rem 1rem;
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.875rem;
      color: var(--text-primary);
      box-shadow: var(--shadow);
    }

    .theme-toggle:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .card {
      background: var(--secondary-bg);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: var(--shadow-lg);
      border: 1px solid var(--border-light);
      transition: var(--transition);
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: var(--border-light);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 1rem;
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient-primary);
      transition: width 0.5s ease;
      border-radius: 4px;
    }

    .counter {
      text-align: center;
      margin-bottom: 2rem;
    }

    .counter-text {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .counter-number {
      font-size: 2rem;
      font-weight: 800;
      background: var(--gradient-secondary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .words-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .word-item {
      background: var(--secondary-bg);
      border: 2px solid var(--border-light);
      border-radius: 12px;
      padding: 1rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 500;
      position: relative;
      overflow: hidden;
    }

    .word-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: var(--transition);
    }

    .word-item:hover::before {
      left: 100%;
    }

    .word-item:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    .word-item.selected {
      background: var(--gradient-primary);
      color: white;
      border-color: transparent;
      transform: scale(0.95);
    }

    .word-item.selected:hover {
      transform: scale(0.95) translateY(-2px);
    }

    .colored-words {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .quadrant {
      background: var(--secondary-bg);
      border-radius: 16px;
      padding: 1.5rem;
      border: 3px solid;
      transition: var(--transition);
    }

    .quadrant.blue { border-color: var(--blue-quadrant); }
    .quadrant.green { border-color: var(--green-quadrant); }
    .quadrant.red { border-color: var(--red-quadrant); }
    .quadrant.yellow { border-color: var(--yellow-quadrant); }

    .quadrant-title {
      font-weight: 700;
      font-size: 1.125rem;
      margin-bottom: 1rem;
      text-align: center;
      padding: 0.5rem;
      border-radius: 8px;
      color: white;
    }

    .quadrant.blue .quadrant-title { background: var(--blue-quadrant); }
    .quadrant.green .quadrant-title { background: var(--green-quadrant); }
    .quadrant.red .quadrant-title { background: var(--red-quadrant); }
    .quadrant.yellow .quadrant-title { background: var(--yellow-quadrant); }

    .quadrant-words {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .quadrant-word {
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.875rem;
      font-weight: 500;
      color: white;
      transition: var(--transition);
    }

    .quadrant.blue .quadrant-word { background: var(--blue-quadrant); }
    .quadrant.green .quadrant-word { background: var(--green-quadrant); }
    .quadrant.red .quadrant-word { background: var(--red-quadrant); }
    .quadrant.yellow .quadrant-word { background: var(--yellow-quadrant); }

    .btn {
      background: var(--gradient-primary);
      color: white;
      border: none;
      border-radius: 50px;
      padding: 1rem 2rem;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: var(--shadow);
      margin: 0 0.5rem;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .btn-secondary {
      background: var(--secondary-bg);
      color: var(--text-primary);
      border: 2px solid var(--border-light);
    }

    .result-section {
      text-align: center;
    }

    .chart-container {
      position: relative;
      max-width: 500px;
      margin: 2rem auto;
    }
    
    .centered-chart-container {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(calc(-51%), calc(-55%));
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .rotated-chart {
        transform: rotate(-45deg);
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 2rem;
    }

    .summary-item {
      background: var(--secondary-bg);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      border: 3px solid;
      transition: var(--transition);
    }

    .summary-item.blue { border-color: var(--blue-quadrant); }
    .summary-item.green { border-color: var(--green-quadrant); }
    .summary-item.red { border-color: var(--red-quadrant); }
    .summary-item.yellow { border-color: var(--yellow-quadrant); }

    .summary-label {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--text-secondary);
    }

    .summary-value {
      font-size: 2rem;
      font-weight: 800;
      color: var(--text-primary);
    }
    
    .interpretation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      margin-top: 2rem;
    }
    
    .interpretation-card {
      background: var(--secondary-bg);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: var(--shadow);
      transition: var(--transition);
      border: 1px solid var(--border-light);
      text-align: left;
    }
    
    .interpretation-title {
      font-weight: 700;
      font-size: 1.125rem;
      margin-bottom: 0.5rem;
    }
    
    .interpretation-description {
      font-size: 0.875rem;
      color: var(--text-secondary);
    }

    .hidden {
      display: none;
    }

    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      .container { padding: 1rem; }
      .theme-toggle { position: static; margin-bottom: 1rem; }
      .header { margin-bottom: 2rem; }
      .words-grid { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
      .colored-words { grid-template-columns: 1fr; }
    }
    
    .floating-counter {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--secondary-bg);
        padding: 0.5rem 1rem;
        border-radius: 12px;
        box-shadow: var(--shadow-lg);
        z-index: 100;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: opacity 0.3s ease;
    }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">
  <div class="floating-counter" id="floatingCounter">
      <div class="font-bold text-lg" id="counter">0</div>
      <div class="text-sm">/ 16</div>
  </div>

  <div class="container">
    <header class="header">
      <h1 class="title">Test de Herrmann</h1>
      <p class="subtitle">Descubre tu perfil de pensamiento cerebral</p>
      <button class="theme-toggle" onclick="toggleTheme()">
        🌙 Cambiar Tema
      </button>
    </header>

    <!-- Paso 1: Selección de palabras -->
    <div id="step1" class="card fade-in">
      <div class="counter" style="display: none;">
        <div class="counter-text">Selecciona 16 palabras que mejor te representen</div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="counter-number">
          <span id="counter">0</span> / 16
        </div>
      </div>
      <div class="words-grid" id="wordsContainer"></div>
      <div style="text-align: center;">
        <button id="continueBtn" class="btn hidden" onclick="showStep2()">
          Continuar al Análisis
        </button>
      </div>
    </div>

    <!-- Paso 2: Palabras por colores -->
    <div id="step2" class="card hidden">
      <h2 style="text-align: center; margin-bottom: 2rem; font-size: 2rem;">Tus palabras por cuadrante</h2>
      <div class="colored-words" id="coloredWordsContainer"></div>
      <div style="text-align: center;">
        <button class="btn" onclick="showStep3()">Ver Resultados</button>
      </div>
    </div>

    <!-- Paso 3: Resultados -->
    <div id="step3" class="card hidden">
      <div class="result-section">
        <h2 style="margin-bottom: 2rem; font-size: 2rem;">Tu Perfil Cerebral</h2>
        <div class="relative w-full max-w-sm mx-auto shadow-2xl rounded-xl overflow-hidden">
            <div class="w-full h-full">
                <img src="https://herrmann.com.au/wp-content/uploads/2021/09/whole-brain-thinking.png" alt="Fondo de colores del cerebro" class="w-full h-auto block object-cover rounded-xl">
            </div>
            <div class="centered-chart-container">
                <canvas id="radarChart" class="rotated-chart"></canvas>
            </div>
        </div>
        <div class="summary-grid" id="summaryGrid"></div>
        <div style="margin-top: 2rem;">
            <button class="btn btn-secondary" onclick="restart()">Reiniciar Test</button>
            <button class="btn" onclick="showStep2()">Ver Cuadrantes</button>
        </div>
        
        <div class="mt-12">
            <h3 class="text-2xl font-bold mb-4">Interpretación de Cuadrantes</h3>
            <div class="interpretation-grid">
                <!-- Tarjetas de Interpretación en el orden A, D, B, C -->
                <div class="interpretation-card">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-4 h-4 rounded-full bg-blue-500"></div>
                        <h4 class="interpretation-title text-blue-500">Cuadrante A - Lógico</h4>
                    </div>
                    <p class="interpretation-description">Pensamiento Analítico (el que piensa). Lógico, basado en hechos, cuantitativo.</p>
                </div>
                <div class="interpretation-card">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-4 h-4 rounded-full bg-yellow-500"></div>
                        <h4 class="interpretation-title text-yellow-500">Cuadrante D - Experimental</h4>
                    </div>
                    <p class="interpretation-description">Pensamiento Experimental (el que sueña). Holístico, intuitivo, integrador.</p>
                </div>
                <div class="interpretation-card">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-4 h-4 rounded-full bg-green-500"></div>
                        <h4 class="interpretation-title text-green-500">Cuadrante B - Práctico</h4>
                    </div>
                    <p class="interpretation-description">Pensamiento Práctico (el que controla). Organizado, secuencial, planeado.</p>
                </div>
                <div class="interpretation-card">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-4 h-4 rounded-full bg-red-500"></div>
                        <h4 class="interpretation-title text-red-500">Cuadrante C - Relacional</h4>
                    </div>
                    <p class="interpretation-description">Pensamiento Relacional (el que siente). Interpersonal, basado en sentimientos, kinestésico.</p>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const words = {
      // Cuadrante A (Azul) - Analítico
      'Analítico': 'blue', 'Científico': 'blue', 'Crítico': 'blue', 'Cuantitativo': 'blue',
      'Efectivo': 'blue', 'Estadístico': 'blue', 'Lógico': 'blue', 'Matemático': 'blue',
      'Racional': 'blue', 'Técnico': 'blue',
      
      // Cuadrante B (Verde) - Práctico
      'Conservador': 'green', 'Controlador': 'green', 'Detallado': 'green', 'Disciplinado': 'green',
      'Estructurado': 'green', 'Metódico': 'green', 'Organizado': 'green', 'Persistente': 'green',
      'Planeado': 'green', 'Secuencial': 'green',
      
      // Cuadrante C (Rojo) - Relacional
      'Conciliador': 'red', 'Emocional': 'red', 'Expresivo': 'red', 'Filántropo': 'red',
      'Musical': 'red', 'Sensorial': 'red', 'Sentimental': 'red', 'Servicial': 'red',
      'Simbólico': 'red', 'Social': 'red',
      
      // Cuadrante D (Amarillo) - Experimental
      'Artístico': 'yellow', 'Creativo': 'yellow', 'Espacial': 'yellow', 'Experimental': 'yellow',
      'Flexible': 'yellow', 'Holístico': 'yellow', 'Imaginativo': 'yellow', 'Intuitivo': 'yellow',
      'Metafórico': 'yellow', 'Visual': 'yellow',
    };

    const quadrantNames = {
      blue: 'Cuadrante A - Lógico',
      green: 'Cuadrante B - Práctico',
      red: 'Cuadrante C - Relacional',
      yellow: 'Cuadrante D - Experimental'
    };

    let selected = [];
    let myRadarChart = null;

    // Inicializar la aplicación
    function init() {
      createWordGrid();
      updateCounter();
    }

    // Crear la grilla de palabras
    function createWordGrid() {
      const container = document.getElementById("wordsContainer");
      container.innerHTML = '';
      const shuffled = Object.keys(words).sort(() => Math.random() - 0.5);
      
      shuffled.forEach(word => {
        const div = document.createElement("div");
        div.className = "word-item";
        div.textContent = word;
        div.onclick = () => toggleWord(word, div);
        container.appendChild(div);
      });
    }

    // Alternar selección de palabra
    function toggleWord(word, div) {
      if (selected.includes(word)) {
        selected = selected.filter(w => w !== word);
        div.classList.remove("selected");
      } else if (selected.length < 16) {
        selected.push(word);
        div.classList.add("selected");
      }
      updateCounter();
    }

    // Actualizar contador
    function updateCounter() {
      const counterElement = document.getElementById("counter");
      const continueBtn = document.getElementById("continueBtn");
      
      counterElement.textContent = selected.length;
      
      if (selected.length === 16) {
        continueBtn.classList.remove("hidden");
        continueBtn.classList.add("fade-in");
      } else {
        continueBtn.classList.add("hidden");
      }
    }

    // Mostrar paso 2: palabras por colores
    function showStep2() {
      document.getElementById("step1").classList.add("hidden");
      document.getElementById("step2").classList.remove("hidden");
      document.getElementById("step2").classList.add("fade-in");
      document.getElementById("floatingCounter").style.opacity = '0';
      
      createColoredWordsView();
    }

    // Crear vista de palabras por colores
    function createColoredWordsView() {
      const container = document.getElementById("coloredWordsContainer");
      container.innerHTML = '';
      
      const groupedWords = {
        blue: [],
        green: [],
        red: [],
        yellow: []
      };
      
      selected.forEach(word => {
        groupedWords[words[word]].push(word);
      });
      
      // Itera sobre los colores en el nuevo orden A, D, B, C
      ['blue', 'yellow', 'green', 'red'].forEach(color => {
        const wordList = groupedWords[color];
        if (wordList.length > 0) {
          const quadrant = document.createElement("div");
          quadrant.className = `quadrant ${color}`;
          
          const title = document.createElement("div");
          title.className = "quadrant-title";
          title.textContent = quadrantNames[color];
          
          const wordsContainer = document.createElement("div");
          wordsContainer.className = "quadrant-words";
          
          wordList.forEach(word => {
            const wordSpan = document.createElement("span");
            wordSpan.className = "quadrant-word";
            wordSpan.textContent = word;
            wordsContainer.appendChild(wordSpan);
          });
          
          quadrant.appendChild(title);
          quadrant.appendChild(wordsContainer);
          container.appendChild(quadrant);
        }
      });
    }

    // Mostrar paso 3: resultados
    function showStep3() {
      document.getElementById("step2").classList.add("hidden");
      document.getElementById("step3").classList.remove("hidden");
      document.getElementById("step3").classList.add("fade-in");
      
      createRadarChart();
      createSummary();
    }

    // Crear gráfico de radar con los datos del test
    function createRadarChart() {
      const counts = { blue: 0, green: 0, red: 0, yellow: 0 };
      selected.forEach(word => counts[words[word]]++);

      if (myRadarChart) {
          myRadarChart.destroy();
      }

      const ctx = document.getElementById('radarChart').getContext('2d');
      
      const data = {
          // Orden de los datos para que coincidan con las etiquetas de la imagen de fondo
          labels: ['Azul (A)', 'Amarillo (D)', 'Rojo (C)', 'Verde (B)'],
          datasets: [{
              label: 'Tu Perfil',
              // Orden de los datos para que coincidan con las etiquetas
              data: [counts.blue, counts.yellow, counts.red, counts.green],
              backgroundColor: 'rgba(255, 255, 255, 0.2)',
              borderColor: 'rgba(255, 255, 255, 1)',
              pointBackgroundColor: 'rgba(255, 255, 255, 1)',
              pointBorderColor: '#fff',
              pointHoverBackgroundColor: '#fff',
              pointHoverBorderColor: 'rgba(255, 255, 255, 1)',
              borderWidth: 2,
          }]
      };

      const config = {
          type: 'radar',
          data: data,
          options: {
              responsive: true,
              maintainAspectRatio: false,
              scales: {
                  r: {
                      min: 0,
                      max: 10,
                      angleLines: {
                          display: true,
                          color: 'rgba(255, 255, 255, 0.4)'
                      },
                      grid: {
                          color: 'rgba(255, 255, 255, 0.4)'
                      },
                      pointLabels: {
                          display: false,
                      },
                      ticks: {
                          display: false, // Oculta los números de la escala
                      },
                  }
              },
              elements: {
                  line: {
                      tension: 0
                  }
              },
              plugins: {
                  legend: {
                      display: false,
                  },
                  tooltip: {
                      enabled: true
                  }
              }
          }
      };
      
      myRadarChart = new Chart(ctx, config);

      const container = document.querySelector('.relative');
      const canvas = document.getElementById('radarChart');

      const resizeCanvas = () => {
          const size = Math.min(container.offsetWidth, container.offsetHeight);
          canvas.width = size;
          canvas.height = size;
          myRadarChart.resize();
      };

      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);
    }

    // Crear resumen de resultados
    function createSummary() {
      const counts = { blue: 0, green: 0, red: 0, yellow: 0 };
      selected.forEach(word => counts[words[word]]++);
      
      const container = document.getElementById("summaryGrid");
      container.innerHTML = '';
      
      const summaryData = [
        { color: 'blue', label: 'Analítico (A)', count: counts.blue },
        { color: 'yellow', label: 'Experimental (D)', count: counts.yellow },
        { color: 'green', label: 'Práctico (B)', count: counts.green },
        { color: 'red', label: 'Relacional (C)', count: counts.red }
      ];
      
      summaryData.forEach(item => {
        const summaryItem = document.createElement("div");
        summaryItem.className = `summary-item ${item.color}`;
        
        summaryItem.innerHTML = `
          <div class="summary-label">${item.label}</div>
          <div class="summary-value">${item.count}</div>
        `;
        
        container.appendChild(summaryItem);
      });
    }

    // Cambiar tema
    function toggleTheme() {
      const body = document.body;
      const currentTheme = body.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      
      body.setAttribute('data-theme', newTheme);
      
      const themeButton = document.querySelector('.theme-toggle');
      themeButton.textContent = newTheme === 'dark' ? '☀️ Cambiar Tema' : '🌙 Cambiar Tema';
    }

    // Reiniciar test
    function restart() {
      location.reload();
    }

    // Inicializar cuando cargue la página
    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>

